<html>
<head>

	<title>Camera Configuration Calculus</title>

	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.css">

	<style>

		body
		{
			margin-top:  1em;
		}

	</style>

	<script>

		function update()
		{
			var elements =
			{
				ImageWidth: document.getElementById('ImageWidth'),
				ImageHeight: document.getElementById('ImageHeight'),
				ImageChannels: document.getElementById('ImageChannels'),
				CameraCount: document.getElementById('CameraCount'),
				CycleTime: document.getElementById('CycleTime'),
				CycleTimeUnit: document.getElementById('CycleTimeUnit'),
				CycleTimeTypeLine: document.getElementById('CycleTimeTypeLine'),
				CycleTimeTypeImage: document.getElementById('CycleTimeTypeImage'),

				ImageCycleTime: document.getElementById('ImageCycleTime'),
				ImageCycleTimeUnit: document.getElementById('ImageCycleTimeUnit'),
				LineCycleTime: document.getElementById('LineCycleTime'),
				LineCycleTimeUnit: document.getElementById('LineCycleTimeUnit'),
				LinesPerSecond: document.getElementById('LinesPerSecond'),
				ImagesPerSecond: document.getElementById('ImagesPerSecond'),
				BytesPerImage: document.getElementById('BytesPerImage'),
				GigaBitPerSecond: document.getElementById('GigaBitPerSecond'),
			};

			var input =
			{
				image:
				{
					width: NaN,
					height: NaN,
					channels: NaN,
				},
				camera:
				{
					count: NaN,
				},
				cycletime:
				{
					value: NaN,
					factor: NaN,
				},
			};

			input.image.width = parseFloat(elements.ImageWidth.value);
			input.image.height = parseFloat(elements.ImageHeight.value);
			input.image.channels = parseFloat(elements.ImageChannels.value);
			input.camera.count = parseFloat(elements.CameraCount.value);
			input.cycletime.value = parseFloat(elements.CycleTime.value.replace(',', '.'));

			if (elements.CycleTimeTypeLine.checked)
			{
				elements.CycleTimeUnit.textContent = '[us]';

				input.cycletime.factor = 1e-6;
			}

			if (elements.CycleTimeTypeImage.checked)
			{
				elements.CycleTimeUnit.textContent = '[us]';

				input.cycletime.factor = 1e-6 / input.image.height;
			}

			elements.LineCycleTimeUnit.textContent = '[us]';
			elements.ImageCycleTimeUnit.textContent = '[us]';

			elements.LineCycleTime.value = input.cycletime.value * input.cycletime.factor * 1e+6;
			elements.ImageCycleTime.value = input.image.height * input.cycletime.value * input.cycletime.factor * 1e+6;
			elements.LinesPerSecond.value = Math.round(1 / (input.cycletime.value * input.cycletime.factor));
			elements.ImagesPerSecond.value = Math.round(1 / (input.image.height * input.cycletime.value * input.cycletime.factor));
			elements.BytesPerImage.value = input.image.width * input.image.height * input.image.channels;
			elements.GigaBitPerSecond.value = input.camera.count * parseFloat(elements.ImagesPerSecond.value) * parseFloat(elements.BytesPerImage.value) * (8 / Math.pow(1024, 3));
		}

	</script>

</head>
<body>

<div class="container">

	<div class="row">
	<div class="column">
		<h3>Camera Configuration Calculus</h3>
	</div>
	</div>

	<div class="row">
	<div class="column">

		<label for="ImageWidth">Image Width</label>
		<input type="text" id="ImageWidth" onclick="this.select()" onkeyup="update()" value="1">

		<label for="ImageHeight">Image Height</label>
		<input type="text" id="ImageHeight" onclick="this.select()" onkeyup="update()" value="1">

		<label for="ImageChannels">Image Channels</label>
		<input type="text" id="ImageChannels" onclick="this.select()" onkeyup="update()" value="1">

		<label for="CameraCount">Camera Count</label>
		<input type="text" id="CameraCount" onclick="this.select()" onkeyup="update()" value="1">

		<label for="CycleTime">Cycle Time <span id="CycleTimeUnit"></span></label>
		<input type="text" id="CycleTime" onclick="this.select()" onkeyup="update()" value="1">

		<label>Cycle Target</label>

		<input type="radio" id="CycleTimeTypeLine" name="CycleTimeType" onclick="update()" checked>
		<label for="CycleTimeTypeLine" class="label-inline">Line</label>

		&nbsp;

		<input type="radio" id="CycleTimeTypeImage" name="CycleTimeType" onclick="update()">
		<label for="CycleTimeTypeImage" class="label-inline">Image</label>

	</div>
	<div class="column">

		<label for="LineCycleTime">Line Cycle Time <span id="LineCycleTimeUnit"></span></label>
		<input type="text" id="LineCycleTime" disabled>

		<label for="ImageCycleTime">Image Cycle Time <span id="ImageCycleTimeUnit"></span></label>
		<input type="text" id="ImageCycleTime" disabled>

		<label for="LinesPerSecond">Lines Per Second</label>
		<input type="text" id="LinesPerSecond" disabled>

		<label for="ImagesPerSecond">Images Per Second</label>
		<input type="text" id="ImagesPerSecond" disabled>

		<label for="BytesPerImage">Bytes Per Image</label>
		<input type="text" id="BytesPerImage" disabled>

		<label for="GigaBitPerSecond">Total Gbit/s</label>
		<input type="text" id="GigaBitPerSecond" disabled>

	</div>
	</div>

</div>

<script type="text/javascript">

	window.addEventListener('load', update);

</script>

</body>
</html>